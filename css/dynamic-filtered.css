html[ml-mode="filter"]:not([ml-view="child"]):not([ml-stage="preload"]):not([ml-embed]):not([ml-image]) {
  filter: var(--ml-text-filter);
  background-color: var(--ml-main-background-color-filtered) !important;
}

html[ml-mode="filter"]:not([ml-view="child"]):not([ml-stage="preload"]) {
  --ml-main-scrollbar-marks-color: var(--ml-main-scrollbar-marks-color-filtered) !important;
  --ml-main-scrollbar-thumb-hover-color: var(--ml-main-scrollbar-thumb-hover-color-filtered) !important;
  --ml-main-scrollbar-thumb-normal-color: var(--ml-main-scrollbar-thumb-normal-color-filtered) !important;
  --ml-main-scrollbar-thumb-active-color: var(--ml-main-scrollbar-thumb-active-color-filtered) !important;
  --ml-main-scrollbar-track-color: var(--ml-main-scrollbar-track-color-filtered) !important;
  --ml-main-moz-scrollbar-track-color: var(--ml-main-moz-scrollbar-track-color-filtered) !important;
  --ml-main-scrollbar-shadow-color:var(--ml-main-scrollbar-shadow-color-filtered) !important;
}

html[ml-mode="filter"]:not([ml-view="child"]):not([ml-stage="preload"])>*>*,
html[ml-mode="filter"][ml-view="child"]:not([ml-stage="preload"]) {
  --ml-main-scrollbar-marks-color: var(--ml-main-scrollbar-marks-color-original) !important;
  --ml-main-scrollbar-thumb-hover-color: var(--ml-main-scrollbar-thumb-hover-color-original) !important;
  --ml-main-scrollbar-thumb-normal-color: var(--ml-main-scrollbar-thumb-normal-color-original) !important;
  --ml-main-scrollbar-thumb-active-color: var(--ml-main-scrollbar-thumb-active-color-original) !important;
  --ml-main-scrollbar-track-color: var(--ml-main-scrollbar-track-color-original) !important;
  --ml-main-moz-scrollbar-track-color: var(--ml-main-moz-scrollbar-track-color-original) !important;
  --ml-main-scrollbar-shadow-color:var(--ml-main-scrollbar-shadow-color-original) !important;
}

html[ml-mode="filter"][ml-invert]:not([ml-stage="preload"]):not([ml-image]) :not([role="button"])>:not([role="button"]):not(button)>img[src]:not([role="button"]):not([width="8"]):not([width="9"]):not([width="10"]):not([width="11"]):not([width="12"]):not([width="13"]):not([width="14"]):not([width="15"]):not([width="16"]):not([width="17"]):not([width="18"]):not([width="19"]):not([width="20"]):not([width="21"]):not([width="22"]):not([width="23"]):not([height="8"]):not([height="9"]):not([height="10"]):not([height="11"]):not([height="12"]):not([height="13"]):not([height="14"]):not([height="15"]):not([height="16"]):not([height="17"]):not([height="18"]):not([height="19"]):not([height="20"]):not([height="21"]):not([height="22"]):not([height="23"]),
html[ml-mode="filter"][ml-invert]:not([ml-stage="preload"]):not([ml-image]) img[src*="avatar"],
html[ml-mode="filter"][ml-invert]:not([ml-stage="preload"]):not([ml-image]) img[src*="account"],
html[ml-mode="filter"][ml-invert]:not([ml-stage="preload"]):not([ml-image]) img[src*="large"],
html[ml-mode="filter"][ml-invert]:not([ml-stage="preload"]):not([ml-image]) img[src*="screenshot"],
html[ml-mode="filter"][ml-invert]:not([ml-stage="preload"]):not([ml-image]) img[src*="emoji"],
html[ml-mode="filter"][ml-invert]:not([ml-stage="preload"]):not([ml-image]) img[class*="avatar"],
html[ml-mode="filter"][ml-invert]:not([ml-stage="preload"]):not([ml-image]) img[class*="account"],
html[ml-mode="filter"][ml-invert]:not([ml-stage="preload"]):not([ml-image]) img[class*="large"],
html[ml-mode="filter"][ml-invert]:not([ml-stage="preload"]):not([ml-image]) img[class*="screenshot"],
html[ml-mode="filter"][ml-invert]:not([ml-stage="preload"]):not([ml-image]) img[class*="emoji"],
html[ml-mode="filter"][ml-invert]:not([ml-stage="preload"]) img#thumbnail,
html[ml-mode="filter"][ml-invert]:not([ml-stage="preload"]) img.thumbnail,
html[ml-mode="filter"][ml-invert]:not([ml-stage="preload"]) svg image,
html[ml-mode="filter"][ml-invert]:not([ml-stage="preload"]) [style*="background:url"],
html[ml-mode="filter"][ml-invert]:not([ml-stage="preload"]) [style*="background-image:url"],
html[ml-mode="filter"][ml-invert]:not([ml-stage="preload"]) [style*="background: url"],
html[ml-mode="filter"][ml-invert]:not([ml-stage="preload"]) [style*="background-image: url"] {
  filter: var(--ml-image-revert-filter);
}

html[ml-mode="filter"][ml-invert]:not([ml-stage="preload"]) object,
html[ml-mode="filter"][ml-invert]:not([ml-stage="preload"]) video {
  filter: var(--ml-video-revert-filter);
}